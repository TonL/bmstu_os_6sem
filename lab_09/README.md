## Вопросики 

**1. Чем характеризуется аппаратное прерывание**

  - запрещает прерывания на данном процессоре и 
  - запрещает прерывания на других процессорах по данной линии IRQ


<br>

**2. Контексты**

- полный контекст - аппаратный + указатели на структуры ядра, которые описывают выделенные процессу ресурсы
- аппаратный контекст - содержимое регистров, которые нужно сохранить для продолжения выполнения процесса


<br>

**3. Линия irq**

Выделенная линия, по которой контроллеру прерываний передаётся сигнал об прерывании об устройств.


<br>

**4. Вывод dmesg**
- state - состояние тасклета
- data  - аргумент функции обработчика тасклета
	
	
 <br>
 
**5. Что делают воркеры, сколько их?**
- первый просто блокируется, выводит до и после блокировки
- второй обрабатывает нажатие клавиши, выводит, какая клавиша нажата

<br>

**6. Чем отличается тасклет от воркера?**
- тасклет - выполняется в контексте прерывания, поэтому его нельзя заблокировать
- воркер  - выполняется в контексте потоков ядра, поэтому его можно заблокировать


<br>

**7. Реквест irq** - там где инициализация тасклета, что принимает, какое прерывание...

<br>

**8. На каком процессе по умолчанию тасклет?**
- на том, на котором выполняется аппаратное прерывание

<br>

**9. Состояния тасклета:**
-	0 - до планирования
-	1 - планирование
-	2 - выполнение
	
Тасклет может быть запланирован сколько угодно раз, а выполнен один раз

<br>

**10. Разделение линии IRQ**

- SHARED - флаг разделения линии IRQ 
	
```tasklet.c```
```
	static int __init my_module_init(void) // SHARED - флаг разделения линии IRQ 
	{
		printk(KERN_DEBUG "+ loaded!\n");
		int ret = request_irq(KEYB_IRQ, (irq_handler_t)irq_handler, IRQF_SHARED,
					"keyboard", (void *)(irq_handler));
```
<br>

**11. Код нашего обработчика прерываний**

 ```irqreturn_t interrupt_handler(int irq, void *dev) // мой обработчик прерывания```

<br>

**12. Когда будет выполнен ТАСКЛЕТ и на каком процессоре?**
- по завершении обработчика аппаратного прерывания,
- на процессоре, на котором был выполнен обработчик прерывания

<br>

**13. Какие действия нужно выполнить, чтобы workи в итоге выполнились?**
- создать очередь работ, инициализовать ворки, добавить ворки в очередь





